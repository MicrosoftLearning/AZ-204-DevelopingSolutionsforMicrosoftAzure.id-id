---
lab:
  az204Title: 'Lab 09: Publish and subscribe to Event Grid events'
  az020Title: 'Lab 09: Publish and subscribe to Event Grid events'
  az204Module: 'Module 09: Develop event-based solutions'
  az020Module: 'Module 09: Develop event-based solutions'
ms.openlocfilehash: 6c76034b714e5d04fd9565526f698761f8bcaaf3
ms.sourcegitcommit: bd0615f0fd0c1bbe335dacbb6e22ec4e6134a207
ms.translationtype: HT
ms.contentlocale: id-ID
ms.lasthandoff: 06/17/2022
ms.locfileid: "146467058"
---
# <a name="lab-09-publish-and-subscribe-to-event-grid-events"></a>Lab 09: Menerbitkan dan berlangganan peristiwa Event Grid

## <a name="microsoft-azure-user-interface"></a>Antarmuka pengguna Microsoft Azure

Mengingat sifat dinamis dari alat cloud Microsoft, Anda mungkin mengalami perubahan antarmuka pengguna Azure yang terjadi setelah pengembangan konten pelatihan ini. Akibatnya, instruksi lab dan langkah-langkah lab mungkin tidak selaras dengan benar.

Microsoft memperbarui kursus pelatihan ini ketika komunitas memberi tahu kami tentang perubahan yang diperlukan. Tetapi, pembaruan cloud sering terjadi, sehingga Anda mungkin mengalami perubahan antarmuka pengguna sebelum pembaruan konten pelatihan ini. **Jika hal ini terjadi, sesuaikan dengan perubahan, lalu kerjakan perubahan di lab sesuai kebutuhan.**

## <a name="instructions"></a>Instruksi

### <a name="before-you-start"></a>Sebelum memulai

#### <a name="sign-in-to-the-lab-environment"></a>Masuk ke lingkungan lab

Masuk ke mesin virtual (VM) Windows 10 Anda menggunakan kredensial berikut:

- Nama pengguna: **Admin**

- Kata sandi: **Pa55w.rd**

> **Catatan**: Instruktur Anda akan memberikan instruksi untuk menghubungkan ke lingkungan lab virtual.

#### <a name="review-the-installed-applications"></a>Meninjau aplikasi yang diinstal

Temukan taskbar di desktop Windows 10 Anda. Taskbar berisi ikon untuk aplikasi yang akan Anda gunakan di lab ini, termasuk:

- Microsoft Edge

- Microsoft Visual Studio Code

## <a name="architecture-diagram"></a>Diagram arsitektur

![Diagram arsitektur yang menggambarkan penerbitan pengguna dan berlangganan peristiwa Event Grid.](./media/Lab09-Diagram.png)

### <a name="exercise-1-create-azure-resources"></a>Latihan 1: Membuat sumber daya Azure

#### <a name="task-1-open-the-azure-portal"></a>Tugas 1: Membuka portal Microsoft Azure

1. Pada taskbar, pilih ikon **Microsoft Edge**.

1. Di jendela browser yang terbuka, jelajahi portal Azure (<https://portal.azure.com>), lalu masuk dengan akun yang akan Anda gunakan untuk lab ini.

    > **Catatan**: Jika ini pertama kalinya Anda masuk ke portal Microsoft Azure, Anda akan diberikan penawaran tur portal. Pilih **Memulai** untuk melewati tur dan mulai menggunakan portal.

#### <a name="task-2-open-azure-cloud-shell"></a>Tugas 2: Membuka Azure Cloud Shell

1. Di portal Microsoft Azure, pilih ikon **Cloud Shell** ![ikon Cloud Shell](./media/az204_lab_CloudShell.png) untuk membuka sesi Bash baru. Jika Cloud Shell default ke sesi PowerShell, pilih **PowerShell** dan, di menu drop-down, pilih **Bash**.

    > **Catatan**: Jika ini pertama kalinya Anda memulai **Cloud Shell**, saat diminta untuk memilih **Bash** atau **PowerShell**, pilih **Bash**. Saat Anda melihat pesan **Anda tidak memiliki penyimpanan yang terpasang**, pilih langganan yang Anda gunakan di lab ini, lalu pilih **Buat penyimpanan**.

1. Di portal Azure, pada prompt perintah **Cloud Shell**, jalankan perintah berikut untuk mendapatkan versi alat Azure Command-Line Interface (Azure CLI):

    ```bash
    az --version
    ```

#### <a name="task-3-review-the-microsofteventgrid-provider-registration"></a>Tugas 3: Tinjau pendaftaran penyedia Microsoft.EventGrid

1. Di **panel Cloud Shell**, jalankan perintah berikut untuk mendapatkan daftar subgrup dan perintah di tingkat akar Azure CLI:

```bash
az --help
```

1. Di **panel CLoud Shell**, jalankan perintah berikut ini untuk mendapatkan daftar perintah yang tersedia untuk penyedia sumber daya:

```bash
az provider --help
```

1. Di **panel CLoud Shell**, jalankan perintah berikut ini untuk mencantumkan semua penyedia yang saat ini terdaftar:

```bash
az provider list
```

1. Di **panel Cloud Shell**, jalankan perintah berikut untuk mencantumkan hanya ruang nama penyedia yang saat ini terdaftar:

```bash
az provider list --query "[].namespace"
```

1. Di **panel CLoud Shell**, tinjau daftar penyedia yang saat ini terdaftar. Perhatikan bahwa penyedia **Microsoft.EventGrid** saat ini disertakan dalam daftar penyedia.

1. Tutup panel **Cloud Shell**.

#### <a name="task-4-create-a-custom-event-grid-topic"></a>Tugas 4: Membuat topik Event Grid kustom

1. Di panel navigasi portal Microsoft Azure, pilih **Buat sumber daya**.

1. Pada panel **Buat sumber daya**, di kotak teks **Layanan penelusuran dan pasar**, masukkan **Topik Event Grid**, lalu pilih Enter.

1. Pada panel hasil pencarian **Marketplace**, pilih hasil **Topik Event Grid**, lalu pilih **Buat**.

1. Pada panel **Buat Topik**, pada tab **Dasar**, lakukan tindakan berikut, lalu pilih tab **Lanjutan**:

    | Pengaturan                           | Tindakan                                                       |
    | --------------------------------- | ------------------------------------------------------------ |
    | Daftar dropdown **Langganan**   | Pertahankan nilai default.                                    |
    | Daftar dropdown **Grup sumber daya** | Pilih **Buat baru**, masukkan **PubSubEvents**, lalu pilih **OK**. |
    | Kotak teks **Nama**                 | Masukkan **hrtopic** _[namaanda]_ .                               |
    | Daftar dropdown **Wilayah**         | Pilih **US Timur**.                                          |

   Cuplikan layar berikut menampilkan pengaturan yang dikonfigurasi pada tab **Dasar**.

   ![Cuplikan layar yang menampilkan pengaturan yang dikonfigurasi pada panel Buat Topik](./media/l09_create_topic.png)

1. Pada tab **Tingkat Lanjut**, dari daftar drop-down **Skema Peristiwa**, pilih **Skema Event Grid**, lalu pilih **Tinjau + buat**.

1. Pada tab **Tinjau + buat**, tinjau opsi yang Anda pilih di langkah sebelumnya. sebelumnya.

1. Pilih **Buat** untuk membuat topik kisi peristiwa dengan menggunakan konfigurasi yang Anda tentukan.

    > **Catatan**: Tunggu Azure selesai membuat topik sebelum Anda melanjutkan dengan lab. Anda akan menerima pemberitahuan saat topik dibuat.

#### <a name="task-5-deploy-the-azure-event-grid-viewer-to-a-web-app"></a>Tugas 5: Terapkan penampil Azure Event Grid ke aplikasi web

1. Di panel navigasi portal Microsoft Azure, pilih **Buat sumber daya**.

1. Pada panel **Buat sumber daya**, di kotak teks **Layanan pencarian dan pasar**, masukkan **Aplikasi Web**, lalu pilih Enter.

1. Pada panel hasil penelusuran **Marketplace**, pilih hasil **Aplikasi Web**, lalu pilih **Buat**.

1. Pada panel **Buat Aplikasi Web**, pada tab **Dasar**, lakukan tindakan berikut, lalu pilih **Berikutnya: Docker**:

    | Pengaturan                           | Tindakan                                                       |
    | --------------------------------- | ------------------------------------------------------------ |
    | Daftar dropdown **Langganan**   | Pertahankan nilai default.                                    |
    | Daftar dropdown **Grup sumber daya** | Pilih **PubSubEvents** dalam daftar.                         |
    | Kotak teks **Nama**                 | Masukkan **eventviewer** _[yourname]_ .                           |
    | Bagian **Terbitkan**               | Pilih **Kontainer Docker**.                                 |
    | Bagian **Sistem Operasi**      | pilih **Linux**.                                            |
    | Daftar dropdown **Wilayah**         | Pilih **US Timur**.                                          |
    | Bagian **Paket Linux (US Timur)**  | Pilih **Buat baru**, di kotak teks **Nama**, masukkan **EventPlan**, lalu pilih **OK**. |
    | Bagian **SKU dan ukuran**          | Pertahankan nilai default.                                    |

    Cuplikan layar berikut menampilkan pengaturan yang dikonfigurasi pada panel **Buat Aplikasi Web**.

    ![Cuplikan layar yang menampilkan pengaturan yang dikonfigurasi pada panel Buat Aplikasi Web](./media/l09_create_web_app.png)

1. Pada tab **Docker**, lakukan tindakan berikut, dan pilih **Tinjau + buat**:

    | Pengaturan                         | Tindakan                                                      |
    | ------------------------------- | ----------------------------------------------------------- |
    | Daftar dropdown **Opsi**      | Pilih **Kontainer Tunggal**.                                |
    | Daftar dropdown **Sumber Gambar** | Pilih **Hub Docker**.                                      |
    | Daftar dropdown **Jenis Akses**  | Pilih **Publik**.                                          |
    | Kotak teks **Gambar dan tag**      | Masukkan **microsoftlearning/azure-event-grid-viewer:latest** |

    Cuplikan layar berikut menampilkan pengaturan yang dikonfigurasi pada tab **Docker**.

    ![Cuplikan layar yang menampilkan pengaturan yang dikonfigurasi pada Buat Aplikasi Web - tab Docker](./media/l09_create_web_app_docker.png)

1. Pada tab **Tinjau + buat**, tinjau opsi yang Anda pilih di langkah sebelumnya. sebelumnya.

1. Pilih **Buat** untuk membuat aplikasi web menggunakan konfigurasi yang Anda tentukan.

    > **Catatan**: Tunggu Azure selesai membuat aplikasi web sebelum Anda melanjutkan dengan lab. Anda akan menerima pemberitahuan saat aplikasi dibuat.

#### <a name="review"></a>Tinjau

Dalam latihan ini, Anda membuat topik Event Grid dan aplikasi web yang akan Anda gunakan di seluruh lab yang tersisa.

### <a name="exercise-2-create-an-event-grid-subscription"></a>Latihan 2: Membuat langganan Event Grid

#### <a name="task-1-access-the-event-grid-viewer-web-application"></a>Tugas 1: Mengakses aplikasi web Event Grid Viewer

1. Di panel navigasi portal Microsoft Azure, pilih **Grup sumber daya**.

1. Pada panel **Grup sumber daya**, pilih grup sumber daya **PubSubEvents**.

1. Pada panel **PubSubEvents**, pilih aplikasi web **eventviewer** _[namaanda]_ .

1. Pada panel **App Service**, dalam kategori **Setelan**, pilih tautan **Properti**.

1. Di bagian **Properti**, catat nilai tautan **URL**. Anda akan menggunakan nilai ini nanti di lab.

1. Pilih **Ringkasan**, lalu pilih **Jelajahi**.

1. Amati aplikasi web **Azure Event Grid Viewer** yang sedang berjalan. Biarkan aplikasi web ini berjalan selama sisa lab.

    > **Catatan**: Aplikasi web ini akan diperbarui secara real time saat peristiwa dikirim ke titik akhirnya. Anda akan menggunakan aplikasi ini untuk memantau peristiwa di seluruh lab.

1. Kembali ke jendela browser Anda yang saat ini terbuka yang menampilkan portal Azure.

#### <a name="task-2-create-a-new-subscription"></a>Tugas 2: Buat langganan baru

1. Di panel navigasi portal Microsoft Azure, pilih **Grup sumber daya**.

1. Pada panel **Grup sumber daya**, pilih grup sumber daya **PubSubEvents** yang Anda buat sebelumnya di lab ini.

1. Pada panel **PubSubEvents**, pilih topik Event Grid **hrtopic** _[yourname]_ yang Anda buat sebelumnya di lab ini.

1. Pada panel **Topik Event Grid**, pilih **+ Langganan Peristiwa**.

1. Pada panel **Buat Langganan Peristiwa**, lakukan tindakan berikut, lalu pilih **Buat**:

    | Pengaturan                          | Tindakan                                                       |
    | -------------------------------- | ------------------------------------------------------------ |
    | Kotak teks **Nama**                | Masukkan **basicsub**.                                          |
    | Daftar drop-down **Skema Peristiwa**  | Pilih **Skema Event Grid**.                                |
    | Daftar drop-down **Jenis Titik Akhir** | Pilih **Web Hook**.                                         |
    | **Titik Akhir**                     | Pilih **Memilih titik akhir**. Dalam kotak teks **Titik Akhir Pelanggan**, masukkan nilai **URL Aplikasi Web** yang Anda rekam sebelumnya, pastikan bahwa itu menggunakan awalan **https://** , tambahkan akhiran **/api/pembaruan**, lalu pilih **Konfirmasi Pilihan**. Misalnya, jika nilai **URL Aplikasi Web** Anda adalah ``http://eventviewerstudent.azurewebsites.net/``, maka **Titik Akhir Pelanggan** Anda adalah ``https://eventviewerstudent.azurewebsites.net/api/updates``. |

    Cuplikan layar berikut menampilkan pengaturan yang dikonfigurasi pada panel **Buat Langganan Peristiwa**.

    ![Cuplikan layar yang menampilkan pengaturan yang dikonfigurasi pada panel Buat Acara Berlangganan](./media/l09_create_event_subscription.png)

    > **Catatan**: Tunggu hingga Azure selesai membuat langganan sebelum Anda melanjutkan lab. Anda akan menerima pemberitahuan saat langganan dibuat.

#### <a name="task-3-observe-the-subscription-validation-event"></a>Tugas 3: Amati acara validasi langganan

1. Kembali ke jendela browser yang menampilkan aplikasi web **Azure Event Grid Viewer**.

1. Tinjau peristiwa **Microsoft.EventGrid.SubscriptionValidationEvent** yang dibuat sebagai bagian dari proses pembuatan langganan.

1. Pilih peristiwa dan tinjau konten JSON-nya.

1. Kembali ke jendela browser yang sedang Anda buka dengan portal Azure.

#### <a name="task-4-record-subscription-credentials"></a>Tugas 4: Rekam informasi masuk langganan

1. Di panel navigasi portal Microsoft Azure, pilih **Grup sumber daya**.

1. Pada panel **Grup sumber daya**, pilih grup sumber daya **PubSubEvents** yang Anda buat sebelumnya di lab ini.

1. Pada panel **PubSubEvents**, pilih topik Event Grid **hrtopic** _[yourname]_ yang Anda buat sebelumnya di lab ini.

1. Pada panel **Topik Event Grid**, rekam nilai bidang **Titik Akhir Topik**. Anda akan menggunakan nilai ini nanti di lab.

1. Dalam kategori **Pengaturan**, pilih tautan **Kunci akses**.

1. Di bagian **Kunci akses**, rekam nilai kotak teks **Kunci 1**. Anda akan menggunakan nilai ini nanti di lab.

#### <a name="review"></a>Tinjau

Dalam latihan ini, Anda membuat langganan baru, memvalidasi pendaftarannya, lalu merekam kredensial yang diperlukan untuk menerbitkan peristiwa baru ke topik tersebut.

### <a name="exercise-3-publish-event-grid-events-from-net"></a>Latihan 3: Menerbitkan peristiwa Event Grid dari .NET

#### <a name="task-1-create-a-net-project"></a>Tugas 1: Membuat proyek .NET

1. Pada layar **Mulai**, pilih petak peta **Visual Studio Code**.

1. Pada menu **File**, pilih **Buka Folder**.

1. Di jendela **File Explorer** yang terbuka, telusuri ke **Allfiles (F):\\Allfiles\\Labs\\09\\Starter\\EventPublisher**, lalu pilih **Pilih Folder**.

1. Di jendela **Visual Studio Code**, aktifkan menu pintasan untuk panel **Penjelajah**, lalu pilih **Buka di Terminal terpadu**.

1. Jalankan perintah berikut untuk membuat proyek .NET baru bernama **EventPublisher** di folder saat ini:

    ```powershell
    dotnet new console --name EventPublisher --output .
    ```

    > **Catatan**: Perintah **dotnet new** akan membuat proyek **konsol** baru dalam folder dengan nama yang sama dengan proyek tersebut.

1. Jalankan perintah berikut untuk mengimpor **Azure.Messaging.EventGrid** versi 4.1.0 dari NuGet:

    ```powershell
    dotnet add package Azure.Messaging.EventGrid --version 4.1.0
    ```

    > **Catatan**: Perintah **dotnet add package** akan menambahkan paket **Microsoft.Azure.EventGrid** dari NuGet. Untuk informasi selengkapnya, buka [Azure.Messaging.EventGrid](https://www.nuget.org/packages/Azure.Messaging.EventGrid/4.1.0).

1. Jalankan perintah berikut untuk membangun aplikasi web .NET:

    ```powershell
    dotnet build
    ```

1. Pilih **Kill Terminal** atau ikon **Keranjang Sampah** untuk menutup terminal yang sedang terbuka dan semua proses terkait.

#### <a name="task-2-modify-the-program-class-to-connect-to-event-grid"></a>Tugas 2: Ubah kelas Program untuk terhubung ke Event Grid

1. Pada panel **Explorer** di jendela **Visual Studio Code**, buka file **Program.cs**.

1. Pada tab editor kode untuk file **Program.cs**, hapus semua kode dalam file yang ada.

1. Tambahkan baris kode berikut untuk mengimpor namespace layanan **Azure**, dan **Azure.Messaging.EventGrid** dari paket **Azure.Messaging.EventGrid** yang diimpor dari NuGet:

    ```csharp
    using Azure;
    using Azure.Messaging.EventGrid;
    ```

1. Tambahkan baris kode berikut untuk menambahkan arahan **using** untuk namespace bawaan yang akan digunakan dalam file ini:

    ```csharp
    using System;
    using System.Threading.Tasks;
    ```

1. Masukkan kode berikut untuk membuat kelas **Program** baru:

    ```csharp
    public class Program
    {
    }
    ```

1. Di kelas **Program**, masukkan baris kode berikut untuk membuat konstanta string baru bernama **topicEndpoint**:

    ```csharp
    private const string topicEndpoint = "";
    ```

1. Perbarui konstanta string **topicEndpoint** dengan mengatur nilainya ke **Titik Akhir Topik** topik Event Grid yang Anda rekam sebelumnya di lab ini.

1. Di kelas **Program**, masukkan baris kode berikut untuk membuat konstanta string baru bernama **topicKey**:

    ```csharp
    private const string topicKey = "";
    ```

1. Perbarui konstanta string **topicKey** dengan mengatur nilainya ke **Kunci** topik Event Grid yang Anda rekam sebelumnya di lab ini.

1. Di kelas **Program**, masukkan kode berikut untuk membuat metode **Main** asinkron baru:

    ```csharp
    public static async Task Main(string[] args)
    {
    }
    ```

1. Amati file **Program.cs**, yang sekarang harus menyertakan baris kode berikut:

    ```csharp
    using System;
    using System.Threading.Tasks;
    using Azure;
    using Azure.Messaging.EventGrid;
    public class Program
    {
        private const string topicEndpoint = "<topic-endpoint>";
        private const string topicKey = "<topic-key>";
        public static async Task Main(string[] args)
        {
        }
    }
    ```

#### <a name="task-3-publish-new-events"></a>Tugas 3: Menerbitkan peristiwa baru

1. Dalam metode **Utama**, lakukan tindakan berikut untuk memublikasikan daftar acara ke titik akhir topik Anda:

    a. Tambahkan baris kode berikut untuk membuat variabel baru bernama **titik akhir** jenis **Uri**, menggunakan konstanta string **topicEndpoint** sebagai parameter konstruktor:

    ```csharp
    Uri endpoint = new Uri(topicEndpoint); 
    ```

    b. Tambahkan baris kode berikut untuk membuat variabel baru bernama **kredensial** dari jenis **[AzureKeyCredential](https://docs.microsoft.com/dotnet/api/azure.azurekeycredential)** , menggunakan konstanta string **topicKey** sebagai parameter konstruktor :

    ```csharp
    AzureKeyCredential credential = new AzureKeyCredential(topicKey);
    ```

    c. Tambahkan baris kode berikut untuk membuat variabel baru bernama **klien** jenis **[EventGridPublisherClient](https://docs.microsoft.com/dotnet/api/azure.messaging.eventgrid.eventgridpublisherclient)** , menggunakan **titik akhir** dan variabel **informasi masuk** sebagai parameter konstruktor:

    ```csharp
    EventGridPublisherClient client = new EventGridPublisherClient(endpoint, credential);
    ```

    d. Tambahkan blok kode berikut untuk membuat variabel baru bernama **firstEvent** jenis **[EventGridEvent](https://docs.microsoft.com/dotnet/api/azure.messaging.eventgrid.eventgridevent)** dan isi variabel tersebut dengan data sampel:

    ```csharp
    EventGridEvent firstEvent = new EventGridEvent(
        subject: $"New Employee: Alba Sutton",
        eventType: "Employees.Registration.New",
        dataVersion: "1.0",
        data: new
        {
            FullName = "Alba Sutton",
            Address = "4567 Pine Avenue, Edison, WA 97202"
         }
     );
     ```

    e. Tambahkan blok kode berikut untuk membuat variabel baru bernama **secondEvent** dari jenis **[EventGridEvent](https://docs.microsoft.com/dotnet/api/azure.messaging.eventgrid.eventgridevent)** dan isi variabel tersebut dengan data sampel:

     ```csharp
        EventGridEvent secondEvent = new EventGridEvent(
            subject: $"New Employee: Alexandre Doyon",
            eventType: "Employees.Registration.New",
            dataVersion: "1.0",
            data: new
            {
                FullName = "Alexandre Doyon",
                Address = "456 College Street, Bow, WA 98107"
            }
        );
     ```

    f. Tambahkan baris kode berikut untuk secara asinkron memanggil metode **[EventGridPublisherClient.SendEventAsync](https://docs.microsoft.com/dotnet/api/azure.messaging.eventgrid.eventgridpublisherclient.sendeventasync)** menggunakan variabel **firstEvent** sebagai parameter:

    ```csharp
    await client.SendEventAsync(firstEvent);
    ```

    g. Tambahkan baris kode berikut untuk merender pesan **"Peristiwa pertama diterbitkan"** ke konsol:

    ```csharp
    Console.WriteLine("First event published");
    ```

    h. Tambahkan baris kode berikut untuk memanggil metode **[EventGridPublisherClient.SendEventAsync](https://docs.microsoft.com/dotnet/api/azure.messaging.eventgrid.eventgridpublisherclient.sendeventasync)** secara asinkron menggunakan variabel **secondEvent** sebagai parameter:

    ```csharp
    await client.SendEventAsync(secondEvent);
    ```

    i. Tambahkan baris kode berikut untuk merender pesan **"Peristiwa kedua diterbitkan"** ke konsol:

    ```csharp
    Console.WriteLine("Second event published");
    ```

1. Tinjau metode **Main**, yang sekarang seharusnya menyertakan:

    ```csharp
    public static async Task Main(string[] args)
    {
        Uri endpoint = new Uri(topicEndpoint);
        AzureKeyCredential credential = new AzureKeyCredential(topicKey);
        EventGridPublisherClient client = new EventGridPublisherClient(endpoint, credential);
        EventGridEvent firstEvent = new EventGridEvent(
            subject: $"New Employee: Alba Sutton",
            eventType: "Employees.Registration.New",
            dataVersion: "1.0",
            data: new
            {
                FullName = "Alba Sutton",
                Address = "4567 Pine Avenue, Edison, WA 97202"
            }
        );
        EventGridEvent secondEvent = new EventGridEvent(
            subject: $"New Employee: Alexandre Doyon",
            eventType: "Employees.Registration.New",
            dataVersion: "1.0",
            data: new
            {
                FullName = "Alexandre Doyon",
                Address = "456 College Street, Bow, WA 98107"
            }
        );
        await client.SendEventAsync(firstEvent);
        Console.WriteLine("First event published");
        await client.SendEventAsync(secondEvent);
        Console.WriteLine("Second event published");
    }
    ```

1. Simpan file **Program.cs**.

1. Di jendela **Visual Studio Code**, aktifkan menu pintasan untuk panel **Penjelajah**, lalu pilih **Buka di Terminal Terpadu**.

1. Jalankan perintah berikut untuk menjalankan aplikasi web .NET:

    ```powershell
    dotnet run
    ```

    > **Catatan**: Jika ada kesalahan build, tinjau file **Program.cs** di folder **Allfiles (F):\\Allfiles\\Labs\\09\\Solution\\EventPublisher**.

1. Amati output pesan keberhasilan dari aplikasi konsol yang sedang berjalan.

1. Pilih **Kill Terminal** atau ikon **Keranjang Sampah** untuk menutup terminal yang sedang terbuka dan semua proses terkait.

#### <a name="task-4-observe-published-events"></a>Tugas 4: Amati peristiwa yang diterbitkan

1. Kembali ke jendela browser dengan aplikasi web **Azure Event Grid Viewer**.

1. Tinjau peristiwa **Employees.Registration.New** yang dibuat oleh aplikasi konsol Anda.

1. Pilih salah satu peristiwa dan tinjau konten JSON-nya.

1. Kembali ke portal Microsoft Azure.

#### <a name="review"></a>Tinjau

Dalam latihan ini, Anda menerbitkan peristiwa baru ke topik Event Grid Anda dengan menggunakan aplikasi konsol .NET.

### <a name="exercise-4-clean-up-your-subscription"></a>Latihan 4: Membersihkan langganan Anda

#### <a name="task-1-open-azure-cloud-shell"></a>Tugas 1: Membuka Azure Cloud Shell

1. Di portal Microsoft Azure, pilih ikon **Cloud Shell** ![ikon Cloud Shell](./media/az204_lab_CloudShell.png) untuk membuka sesi Bash baru. Jika Cloud Shell default ke sesi PowerShell, pilih **PowerShell** dan, di menu drop-down, pilih **Bash**.

    > **Catatan**: Jika ini pertama kalinya Anda memulai **Cloud Shell**, saat diminta untuk memilih **Bash** atau **PowerShell**, pilih **PowerShell**. Saat Anda melihat pesan **Anda tidak memiliki penyimpanan yang terpasang**, pilih langganan yang Anda gunakan di lab ini, dan pilih **Buat penyimpanan**.

#### <a name="task-2-delete-a-resource-group"></a>Tugas 2: Menghapus grup sumber daya

1. Pada panel **Cloud Shell**, jalankan perintah berikut untuk menghapus grup sumber daya **PubSubEvents**:

    ```bash
    az group delete --name PubSubEvents --no-wait --yes
    ```

    > **Catatan**: Perintah berjalan secara asinkron (seperti yang ditentukan oleh parameter *--no-wait*), jadi sementara Anda dapat menjalankan perintah Azure CLI lain segera setelahnya dalam sesi Bash yang sama, perlu waktu beberapa menit sebelum kelompok sumber daya benar-benar dihapus.

1. Tutup panel **Cloud Shell** di portal.

#### <a name="task-3-close-the-active-applications"></a>Tugas 3: Menutup aplikasi yang aktif

1. Tutup aplikasi Microsoft Edge yang sedang berjalan.

1. Tutup aplikasi Visual Studio Code yang sedang berjalan.

#### <a name="review"></a>Tinjau

Dalam latihan ini, Anda membersihkan langganan Anda dengan menghapus grup sumber daya yang digunakan di lab ini.
